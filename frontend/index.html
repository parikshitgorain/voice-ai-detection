<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Voice Detector</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <header class="top-bar">
      <div class="container">
        <div class="top-bar-content">
          <div class="brand">
            <h1 class="brand-title">AI Voice Detector</h1>
            <p class="brand-subtitle">Real-time voice authenticity analysis</p>
          </div>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <div class="layout">
          <section class="panel">
            <h2 class="panel-header">Input</h2>
            <form id="detect-form" class="form" novalidate>
              <div class="form-group">
                <label for="language" class="form-label">Language</label>
                <select id="language" name="language" class="form-select" required>
                  <option value="">Select language</option>
                  <option value="Tamil">Tamil</option>
                  <option value="English">English</option>
                  <option value="Hindi">Hindi</option>
                  <option value="Malayalam">Malayalam</option>
                  <option value="Telugu">Telugu</option>
                </select>
              </div>

              <div class="form-group">
                <label for="api-key" class="form-label">API Key</label>
                <input id="api-key" name="api-key-input" type="password" class="form-input" autocomplete="new-password" autocorrect="off" autocapitalize="off" spellcheck="false" data-lpignore="true" data-1p-ignore="true" placeholder="Enter your API key" />
              </div>

              <div class="form-group">
                <label for="audio-file" class="form-label">Audio File</label>
                <input id="audio-file" name="audio-file" type="file" class="form-file" accept=".mp3,audio/mpeg" />
              </div>

              <details class="form-advanced">
                <summary class="form-advanced-toggle">Base64 input</summary>
                <textarea id="base64" name="base64" class="form-textarea" placeholder="Paste base64 encoded audio (optional)"></textarea>
              </details>

              <div class="form-actions">
                <button id="detect-btn" class="btn btn-primary" type="submit">Analyze Audio</button>
                <div id="loading" class="loading" aria-live="polite">
                  <span id="loading-text" class="loading-text">Extracting audio features</span>
                  <span class="loading-indicator">
                    <span class="loading-bar"></span>
                  </span>
                </div>
              </div>

              <div id="error" class="form-error" role="alert"></div>
              <div id="language-warning" class="form-warning" role="status">
                Selected language may not match detected speech
              </div>
            </form>

            <div class="panel-footer">
              <p class="footer-text">Audio is processed transiently and deleted after analysis. No data is stored.</p>
            </div>
          </section>

          <section class="panel">
            <h2 class="panel-header">Results</h2>
            <div class="results">
              <div class="result-item">
                <span class="result-label">Classification</span>
                <span id="classification" class="result-value result-value-placeholder">—</span>
              </div>
              
              <div class="result-item result-item-confidence">
                <span class="result-label">Confidence</span>
                <div class="result-confidence">
                  <span id="confidence-text" class="result-confidence-text">—</span>
                  <div class="result-confidence-bar">
                    <div id="confidence-bar" class="result-confidence-fill"></div>
                  </div>
                </div>
              </div>
              
              <div class="result-item result-item-explanation">
                <span class="result-label">Analysis</span>
                <p id="explanation" class="result-explanation">No analysis available</p>
              </div>
            </div>

            <details class="panel-details">
              <summary class="panel-details-toggle">Raw API response</summary>
              <pre id="raw-response" class="panel-details-content">No response yet</pre>
            </details>
          </section>
        </div>
      </div>
    </main>

    <script src="./config.js"></script>
    <script src="./js/app.js"></script>
  </body>
</html>
